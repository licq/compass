<div class="page">
  <section class="panel panel-default">
    <div class="panel-heading"><strong><span class="glyphicon glyphicon-archive"></span>人才库</strong></div>
    <div class="panel-body">
      <form name="searchForm" class="form-horizontal" role="form">
        <div class="form-group">
          <div class="col-md-5 col-md-offset-3">
            <input type="text" class="form-control" name="q"
                   ng-model="queryOptions.q">
          </div>
          <div class="col-md-4">
            <button class="btn btn-primary" ng-click="query()">搜索</button>
          </div>
        </div>
        <div class="form-group" ng-show="facets.applyPosition.terms.length > 0">
          <div class="col-md-1">
            应聘职位
          </div>
          <div class="col-md-11">
            <ul class="list-inline">
              <li>
                <a ng-click="setApplyPosition()">全部</a>
              </li>
              <li ng-repeat="term in facets.applyPosition.terms">
                <a ng-click="setApplyPosition(term.term)">{{term.term}}</a>
              </li>
            </ul>
          </div>
        </div>
        <div class="form-group" ng-show="facets.age.entries.length > 0">
          <div class="col-md-1">
            年龄
          </div>
          <div class="col-md-11">
            <ul class="list-inline">
              <li>
                <a ng-click="setAge()">全部</a>
              </li>
              <li ng-repeat="entry in facets.age.entries">
                <a ng-click="setAge(entry.key)">{{entry.key | ageRange}}</a>
              </li>
            </ul>
          </div>
        </div>
        <div class="form-group" ng-show="facets.highestDegree.terms.length > 0">
          <div class="col-md-1">
            学历
          </div>
          <div class="col-md-11">
            <ul class="list-inline">
              <li>
                <a ng-click="setHighestDegree()">全部</a>
              </li>
              <li ng-repeat="term in facets.highestDegree.terms">
                <a ng-click="setHighestDegree(term.term)">{{term.term | degree}}</a>
              </li>
            </ul>
          </div>
        </div>
      </form>
    </div>

    <div class="panel-body">
      <div class="table-responsive">
        <table tr-ng-grid="" class="table table-bordered table-striped" items="resumes"
               page-items="queryOptions.pageSize" on-data-required-delay="100"
               total-items="totalResumesCount" current-page="queryOptions.page"
               enable-filtering="false" enable-selections="false"
               on-data-required="query()">
          <thead>
          <tr>
            <th field-name="name" display-name="姓名" enable-filtering="false"
                enable-sorting="false"></th>
            <th field-name="birthday" display-name="出生日期" enable-filtering="false"
                enable-sorting="false" display-format="yearAndMonth"></th>
            <th field-name="applyPosition" display-name="应聘职位" enable-filtering="false"
                enable-sorting="false"></th>
            <th field-name="educationHistory[0].school" display-name="毕业学校" enable-filtering="false"
                enable-sorting="false"></th>
            <th field-name="workExperience[0].company" display-name="所在公司" enable-filtering="false"
                enable-sorting="false"></th>
            <th field-name="yearsOfExperience" display-name="工作年限" enable-filtering="false"
                enable-sorting="false" display-format="yearsOfExperience"></th>
            <th field-name="channel" display-name="招聘渠道" enable-filtering="false"
                enable-sorting="false"></th>
            <th>操作</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td align="center">
              <view-button action="view(gridItem)"></view-button>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>
</div>