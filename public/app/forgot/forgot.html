<div class="page-forgot">
  <div class="signin-header">
    <div class="container text-center">
      <section class="logo">
        <a href="#/">Compass</a>
      </section>
    </div>
  </div>
  <div class="signin-body">
    <div class="container">
      <div class="form-container">
        <form ng-show="!sent" class="form-horizontal" name="forgotForm">
          <fieldset>
            <div class="form-group">
              <div class="input-group input-group-lg">
                                <span class="input-group-addon">
                                    <span class="glyphicon glyphicon-envelope"></span>
                                </span>
                <input type="email"
                       class="form-control"
                       placeholder="Email"
                       ng-model="email"
                       name="email"
                       required
                  >

                <p class="text-danger"
                   ng-show="forgotForm.email.$error.required && !forgotForm.email.$pristine">
                  请输入Email</p>

                <p class="text-danger"
                   ng-show="forgotForm.email.$error.email && !forgotForm.email.$pristine">
                  邮箱格式不正确</p>

                <p class="text-danger"
                   ng-show="err.errors.email">
                  {{err.errors.email.message}}</p>
              </div>
            </div>
            <div class="form-group captcha-group">
              <div class="input-group input-group-lg">
                <span class="input-group-addon">
                    <span class="glyphicon glyphicon-picture"></span>
                </span>

                <div class="row">
                  <div class="col-md-4">
                    <input type="text"
                           class="form-control"
                           placeholder="请输入验证码"
                           ng-model="captcha"
                           name="captcha"
                           required>
                  </div>
                  <div class="col-md-1">
                    <span class="text-success glyphicon glyphicon-ok" ng-show="captchaValid"></span>
                    <span class="text-danger glyphicon glyphicon-remove" ng-show="captchaValid === false"></span>
                  </div>
                  <div class="col-md-7">

                    <img ng-src="{{captchaUrl}}" class="form-control" ng-click="changeCaptchaUrl()">
                  </div>
                </div>

                <p class="text-danger" ng-show="err.errors.captcha"> {{err.errors.captcha.message}}</p>

              </div>
            </div>
            <div class="form-group">
              <a class="btn btn-primary btn-lg btn-block" ng-click="sendResetEmail()">发送重置密码链接到邮箱</a>
            </div>
          </fieldset>
        </form>
      </div>
    </div>
    <div ng-show="sent" class="page-forgot">

      <div class="callout text-center">
        <h2>邮件发送成功</h2>

        <p class="text-info">密码重置邮件已经发送到{{email}}</p>
        <p>请查收邮件并重置密码。 </p>

      </div>
    </div>

    <section>
      <p ng-show="!sent" class="text-center"><a href="#/login">返回登陆界面</a></p>
      <p ng-show="sent" class=" text-center text-muted"> <a href="#/login">现在登陆</a></p>
      <p ng-show="!sent" class="text-center text-muted text-small">还没有帐号? <a href="#/signup">注册</a></p>
    </section>
  </div>
</div>